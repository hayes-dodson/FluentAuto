Index: FullCarCFDScripts/solver/aero_coeffs.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/solver/aero_coeffs.py b/FullCarCFDScripts/solver/aero_coeffs.py
new file mode 100644
--- /dev/null	(date 1764766432456)
+++ b/FullCarCFDScripts/solver/aero_coeffs.py	(date 1764766432456)
@@ -0,0 +1,19 @@
+def get_fluent_coefficients(session):
+    """
+    Pull final Cd and Cl directly from Fluent monitors.
+    """
+
+    drag_mon = session.solution.Monitors.DragMonitor
+    lift_mon = session.solution.Monitors.LiftMonitor
+
+    try:
+        Cd = drag_mon.GetData()[-1]
+    except:
+        Cd = None
+
+    try:
+        Cl = lift_mon.GetData()[-1]
+    except:
+        Cl = None
+
+    return {"Cd": Cd, "Cl": Cl}
Index: FullCarCFDScripts/solver/auto_restart.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/solver/auto_restart.py b/FullCarCFDScripts/solver/auto_restart.py
new file mode 100644
--- /dev/null	(date 1764766291830)
+++ b/FullCarCFDScripts/solver/auto_restart.py	(date 1764766291830)
@@ -0,0 +1,22 @@
+def check_divergence_and_recover(session, settings):
+    """
+    Checks for floating point error or divergence (residual spike).
+    If detected, runs stabilization iterations with low relaxation.
+    """
+
+    monitors = session.solution.Monitors.Residual
+    vals = monitors.GetValues()
+
+    # simple threshold for divergence
+    if vals["continuity"] > 1.0:
+        print("Divergence detected! Running auto-recovery...")
+
+        solver = session.solver.Settings.Solution.RelaxationFactors
+        solver.set_state({"mom":0.1,"press":0.1,"k":0.1,"omega":0.1})
+
+        session.solution.RunCalculation.iterate(
+            settings["floating_point_recovery_iterations"]
+        )
+
+        print("Recovered.")
+        solver.set_state({"mom":0.5,"press":0.5,"k":0.5,"omega":0.5})
Index: FullCarCFDScripts/solver/boundary_layer_tools.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/solver/boundary_layer_tools.py b/FullCarCFDScripts/solver/boundary_layer_tools.py
new file mode 100644
--- /dev/null	(date 1764766316150)
+++ b/FullCarCFDScripts/solver/boundary_layer_tools.py	(date 1764766316150)
@@ -0,0 +1,31 @@
+import math
+
+def compute_bl_height(settings, viscosity=1.8e-5):
+    """
+    BL thickness from Reynolds number:
+    δ ≈ 0.37 * x / Re_x^(1/5)
+    Using wheelbase as characteristic length.
+    """
+    rho = settings["air_density"]
+    V = settings["final_inlet_velocity_mph"] * 0.44704
+    L = settings["wheelbase_m"]
+
+    Re = rho * V * L / viscosity
+    delta = 0.37 * L / (Re ** 0.2)
+    return delta
+
+
+def compute_first_layer_height(settings, viscosity=1.8e-5):
+    """
+    Computes y distance for y+ = 1.
+    uτ estimated via skin friction relation.
+    """
+    rho = settings["air_density"]
+    V = settings["final_inlet_velocity_mph"] * 0.44704
+
+    Cf = 0.0576 / ( (rho*V*settings["wheelbase_m"]/viscosity) ** 0.2 )
+    tau_w = Cf * 0.5 * rho * V**2
+    u_tau = (tau_w / rho)**0.5
+
+    y = (settings["target_y_plus"] * viscosity) / (rho * u_tau)
+    return y
Index: FullCarCFDScripts/main.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/main.py b/FullCarCFDScripts/main.py
new file mode 100644
--- /dev/null	(date 1764765479235)
+++ b/FullCarCFDScripts/main.py	(date 1764765479235)
@@ -0,0 +1,104 @@
+from config.settings import SETTINGS
+
+from meshing.mesh_pipeline import run_mesh_pipeline
+from solver.turbulence import enable_GEKO, enable_curvature_correction
+from solver.boundary_conditions import apply_boundary_conditions
+from solver.reference_values import set_reference_values
+from solver.ramping import ramp_relaxation, ramp_CFL
+
+from post.forces import export_forces
+from post.contours import export_contour
+from post.residuals import export_residuals
+
+import ansys.fluent.core as pyfluent
+
+
+def main():
+
+    geom = SETTINGS["geometry_path"]
+
+    # ----------------------------------------------------------
+    #  MESHING SESSION
+    # ----------------------------------------------------------
+    print("\n=== Launching Fluent Meshing ===\n")
+
+    meshing = pyfluent.launch_fluent(
+        mode=pyfluent.FluentMode.MESHING,
+        precision=pyfluent.Precision.DOUBLE,
+        processor_count=60,
+        mpi_type="intel",
+        dimension=3,
+    )
+
+    run_mesh_pipeline(meshing, geom, SETTINGS)
+
+
+    # ----------------------------------------------------------
+    #  SOLVER SESSION
+    # ----------------------------------------------------------
+    print("\n=== Launching Fluent Solver ===\n")
+
+    session = pyfluent.launch_fluent(
+        mode=pyfluent.FluentMode.SOLVER,
+        precision=pyfluent.Precision.DOUBLE,
+        processor_count=60,
+        mpi_type="intel",
+        dimension=3,
+    )
+
+    # --- Models ---
+    enable_GEKO(session)
+
+    # --- BCs ---
+    apply_boundary_conditions(session, SETTINGS)
+
+    # --- Ref Values ---
+    set_reference_values(session)
+
+    # ----------------------------------------------------------
+    # RAMP SEQUENCE (FLOATING-POINT SAFE)
+    # ----------------------------------------------------------
+    print("\n=== Solver Stabilization Ramps ===\n")
+
+    # Relaxation ramp (0.1 → 0.3 → 0.5)
+    ramp_relaxation(session)
+
+    # CFL ramp (1 → 5 → 20)
+    ramp_CFL(session)
+
+    # ----------------------------------------------------------
+    # TURN ON CURVATURE CORRECTION HERE
+    # ----------------------------------------------------------
+    enable_curvature_correction(session)
+
+    # ----------------------------------------------------------
+    # FINAL SOLVE
+    # ----------------------------------------------------------
+    print("\n=== Final Solve (2000+ iterations) ===\n")
+
+    session.solution.RunCalculation.iterate(2000)
+
+    # ----------------------------------------------------------
+    # POSTPROCESS
+    # ----------------------------------------------------------
+    print("\n=== Postprocessing ===\n")
+
+    # Forces
+    export_forces(session,
+                  zones=["frontwing", "rearwing", "undertray", "chassis"],
+                  file="forces.csv")
+
+    # Contour
+    export_contour(session,
+                   variable="pressure",
+                   plane="xy",
+                   file="pressure.png")
+
+    # Residuals
+    export_residuals(session, "residuals.csv")
+
+    print("\n=== CFD Pipeline Complete ===\n")
+
+
+if __name__ == "__main__":
+    main()
Index: FullCarCFDScripts/config/settings.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/config/settings.py b/FullCarCFDScripts/config/settings.py
new file mode 100644
--- /dev/null	(date 1764766224518)
+++ b/FullCarCFDScripts/config/settings.py	(date 1764766224518)
@@ -0,0 +1,56 @@
+SETTINGS = {
+
+    # ------------------------------
+    # Geometry Inputs
+    # ------------------------------
+    "geometry_root_dir": "C:/FSAE/Geometries/",   # folder containing all geometry files
+    "geometry_extension": ".step",                # or .igs, .x_t, .parasolid, .stp
+
+    # ------------------------------
+    # Car Physical Settings
+    # ------------------------------
+    "final_inlet_velocity_mph": 40,
+    "air_density": 1.225,                 # kg/m^3
+    "wheel_rotational_speed_rad_s": 88,   # from 8 in radius at 40 mph
+
+    # half car geometry
+    "wheelbase_m": 1.5748,                # 62 inches
+    "tire_diameter_m": 0.4064,            # 16 inches
+
+    # wheel + wheel block zones
+    "wheel_zone_names": ["fw", "rw", "fwb", "rwb"],
+
+    # ------------------------------
+    # Meshing Settings
+    # ------------------------------
+    "target_y_plus": 1,
+    "bl_layers": 10,
+    "bl_growth": 1.2,
+
+    # ------------------------------
+    # Refinement Boxes
+    # ------------------------------
+    "ref_box_padding_m": 0.05,
+
+    # ------------------------------
+    # Solver Settings
+    # ------------------------------
+    "precision": "double",
+    "max_final_iterations": 2000,
+    "floating_point_recovery_iterations": 200,
+
+    # ------------------------------
+    # Batch Runner
+    # ------------------------------
+    "batch_size": 50,
+    "output_root": "C:/FSAE/Results/",
+
+    # ------------------------------
+    # Projected Area Calc
+    # ------------------------------
+    "min_feature_size": 0.0001,   # 0.1 mm
+    "projected_area_zones": [
+        "frontwing", "rearwing", "undertray", "chassis",
+        "fw", "fwb", "rw", "rwb"
+    ]
+}
Index: FullCarCFDScripts/meshing/utils_detect_zones.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/meshing/utils_detect_zones.py b/FullCarCFDScripts/meshing/utils_detect_zones.py
new file mode 100644
--- /dev/null	(date 1764765220070)
+++ b/FullCarCFDScripts/meshing/utils_detect_zones.py	(date 1764765220070)
@@ -0,0 +1,25 @@
+def detect_enclosure_zone(session):
+    names = session.meshing.ListNames()
+    cell_zones = names.get("cell_zones", [])
+
+    if not cell_zones:
+        raise RuntimeError("No cell zones found.")
+
+    # Rule 1: any 'fluid'
+    for z in cell_zones:
+        if "fluid" in z.lower():
+            return z
+
+    # Rule 2: any 'enclosure'
+    for z in cell_zones:
+        if "enclosure" in z.lower():
+            return z
+
+    # Rule 3: largest by cell count
+    try:
+        counts = session.solution.MeshInfo.CellCountByZone()
+        return max(counts, key=counts.get)
+    except:
+        pass
+
+    return cell_zones[0]
Index: FullCarCFDScripts/meshing/auto_sizing.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/meshing/auto_sizing.py b/FullCarCFDScripts/meshing/auto_sizing.py
new file mode 100644
--- /dev/null	(date 1764765237744)
+++ b/FullCarCFDScripts/meshing/auto_sizing.py	(date 1764765237744)
@@ -0,0 +1,21 @@
+def add_local_sizing(tasks, labels, min_size, max_size, curvature_angle, growth_rate, scope):
+    add_ls = tasks["Add Local Sizing"]
+    add_ls.AddChildToTask()
+    add_ls.InsertCompoundChildTask()
+
+    child = tasks[add_ls.ChildNames[-1]]
+
+    child.Arguments.set_state({
+        "ControlName": f"LS_{child.Name}",
+        "SizeControlType": "Curvature",
+        "LocalMin": min_size,
+        "MaxSize": max_size,
+        "GrowthRate": growth_rate,
+        "CurvatureNormalAngle": curvature_angle,
+        "Scope": scope,
+        "SelectBy": "label",
+        "Labels": labels,
+    })
+
+    add_ls.Execute()
+    print(f"Added local sizing for: {labels}")
Index: FullCarCFDScripts/meshing/auto_boundary_layers.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/meshing/auto_boundary_layers.py b/FullCarCFDScripts/meshing/auto_boundary_layers.py
new file mode 100644
--- /dev/null	(date 1764765256867)
+++ b/FullCarCFDScripts/meshing/auto_boundary_layers.py	(date 1764765256867)
@@ -0,0 +1,20 @@
+def create_BL_control(tasks, name, zones, n_layers, last_ratio):
+    if not zones:
+        print(f"Skipping BL control {name}, no zones.")
+        return
+
+    add_bl = tasks["Add Boundary Layers"]
+    add_bl.AddChildToTask()
+    add_bl.InsertCompoundChildTask()
+
+    child = tasks[add_bl.ChildNames[-1]]
+
+    child.Arguments.set_state({
+        "BLControlName": name,
+        "BoundaryZones": zones,
+        "NumberOfLayers": n_layers,
+        "LastLayerRatio": last_ratio,
+    })
+
+    add_bl.Execute()
+    print(f"Created BL control {name} for zones: {zones}")
Index: FullCarCFDScripts/meshing/hexcore.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/meshing/hexcore.py b/FullCarCFDScripts/meshing/hexcore.py
new file mode 100644
--- /dev/null	(date 1764765268149)
+++ b/FullCarCFDScripts/meshing/hexcore.py	(date 1764765268149)
@@ -0,0 +1,23 @@
+def generate_hexcore(tasks):
+    vol = tasks["Generate the Volume Mesh"]
+
+    vol.Arguments.set_state({
+        "Solver": "Fluent",
+        "FillWith": "poly-hexcore",
+        "GrowthRate": 1.25,
+        "TransitionLayers": 4,
+        "AnisotropicStretching": True,
+        "MinCellLength": 0.0005,
+        "MaxCellLength": 0.256,
+        "PeelLayers": 1,
+        "EnableParallel": True,
+    })
+
+    vol.UpdateChildTasks()
+    vol.Execute()
+    print("Hexcore volume mesh complete.")
+
+    try:
+        print("Hexcore quality:", vol.Outputs["Quality"].get_state())
+    except:
+        print("Could not read hexcore quality.")
Index: FullCarCFDScripts/meshing/mesh_pipeline.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/meshing/mesh_pipeline.py b/FullCarCFDScripts/meshing/mesh_pipeline.py
new file mode 100644
--- /dev/null	(date 1764765316646)
+++ b/FullCarCFDScripts/meshing/mesh_pipeline.py	(date 1764765316646)
@@ -0,0 +1,89 @@
+from .auto_sizing import add_local_sizing
+from .auto_boundary_layers import create_BL_control
+from .hexcore import generate_hexcore
+from .utils_detect_zones import detect_enclosure_zone
+
+def run_mesh_pipeline(meshing_session, geometry_path, settings):
+    print("Starting mesh pipeline...")
+
+    workflow = meshing_session.workflow
+    workflow.InitializeWorkflow(WorkflowType="Watertight Geometry")
+    tasks = workflow.TaskObject
+
+    # -----------------------------
+    # Import Geometry
+    # -----------------------------
+    import_geo = tasks["Import Geometry"]
+    import_geo.Arguments.set_state({
+        "FileName": geometry_path,
+        "LengthUnit": "m"
+    })
+    import_geo.Execute()
+    print("Geometry imported.")
+
+    # -----------------------------
+    # Auto zone discovery
+    # -----------------------------
+    zone_list = meshing_session.meshing.ListNames()["face_zones"]
+    wheel_zones = [z for z in zone_list if "wheel" in z.lower()]
+
+    # -----------------------------
+    # Local Sizing
+    # -----------------------------
+    # Stuff
+    add_local_sizing(tasks, ["chassis"], 0.001, 0.064, 12, 1.2, "faces-and-edges")
+
+    # Aero
+    add_local_sizing(tasks, ["frontwing","undertray","rearwing"],
+                     0.0005, 0.008, 9, 1.2, "faces-and-edges")
+
+    # Wheels (auto via substring)
+    add_local_sizing(tasks, wheel_zones,
+                     0.0005, 0.032, 18, 1.2, "faces")
+
+    # -----------------------------
+    # Surface Mesh
+    # -----------------------------
+    surf = tasks["Generate the Surface Mesh"]
+    surf.Arguments.set_state({
+        "MinimumSize": 0.002,
+        "MaximumSize": 0.256,
+        "GrowthRate": 1.19999,
+        "SizeFunctions": "Curvature & Proximity",
+        "CurvatureNormalAngle": 18,
+        "CellsPerGap": 1,
+        "ScopeProximityTo": "faces-and-edges",
+        "DrawSizeBoxes": True,
+        "SeparateBoundaryZonesByAngle": "No",
+    })
+    surf.UpdateChildTasks()
+    surf.Execute()
+    print("Surface mesh complete.")
+
+    # Surface improvement
+    imp_surf = tasks["Improve Surface Mesh"]
+    imp_surf.AddChildToTask()
+    imp_surf.InsertCompoundChildTask()
+    child = tasks[imp_surf.ChildNames[-1]]
+    child.Arguments.set_state({"FaceQualityLimit": 0.7})
+    imp_surf.Execute()
+    print("Surface mesh improved.")
+
+    # -----------------------------
+    # BL Creation
+    # -----------------------------
+    BL_regions = {
+        "BL_wheels": wheel_zones,
+        "BL_undertray": ["undertray"],
+        "BL_wings": ["frontwing", "rearwing"],
+        "BL_chassis": ["chassis"],
+    }
+    for name, zones in BL_regions.items():
+        create_BL_control(tasks, name, zones, 10, 10.0)
+
+    # -----------------------------
+    # Hexcore
+    # -----------------------------
+    generate_hexcore(tasks)
+
+    print("Meshing pipeline complete.")
Index: FullCarCFDScripts/solver/turbulence.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/solver/turbulence.py b/FullCarCFDScripts/solver/turbulence.py
new file mode 100644
--- /dev/null	(date 1764765452766)
+++ b/FullCarCFDScripts/solver/turbulence.py	(date 1764765452766)
@@ -0,0 +1,20 @@
+def enable_GEKO(session):
+    """Enable GEKO turbulence model with curvature correction OFF initially."""
+    session.solver.Settings.Models.Turbulence = {
+        "model": "k-omega",
+        "k-omega_model": "GEKO",
+        "geko_production_limiter": True,
+        "geko_curvature_correction": False      # OFF for early stability
+    }
+    print("GEKO turbulence model enabled (curvature correction OFF).")
+
+
+def enable_curvature_correction(session):
+    """Turn ON curvature correction AFTER solver has stabilized."""
+    print("Enabling GEKO curvature correction...")
+    try:
+        turb = session.solver.Settings.Models.Turbulence
+        turb.geko_curvature_correction = True
+        print("Curvature correction ON.")
+    except Exception as e:
+        print("Failed to enable curvature correction:", e)
Index: FullCarCFDScripts/solver/ramping.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/solver/ramping.py b/FullCarCFDScripts/solver/ramping.py
new file mode 100644
--- /dev/null	(date 1764765466207)
+++ b/FullCarCFDScripts/solver/ramping.py	(date 1764765466207)
@@ -0,0 +1,31 @@
+def ramp_relaxation(session):
+    solver = session.solver.Settings.Solution.RelaxationFactors
+
+    print("Relaxation ramp start...")
+
+    solver.set_state({"mom":0.1,"press":0.1,"k":0.1,"omega":0.1})
+    session.solution.RunCalculation.iterate(200)
+
+    solver.set_state({"mom":0.3,"press":0.3,"k":0.3,"omega":0.3})
+    session.solution.RunCalculation.iterate(400)
+
+    solver.set_state({"mom":0.5,"press":0.5,"k":0.5,"omega":0.5})
+    session.solution.RunCalculation.iterate(600)
+
+    print("Relaxation ramp complete.")
+
+
+def ramp_CFL(session):
+    ps = session.solver.Settings.Solution.PseudoTransient
+
+    print("Pseudo-transient CFL ramp start...")
+    ps.set_state({"enabled": True, "cfl": 1.0})
+    session.solution.RunCalculation.iterate(300)
+
+    ps.cfl = 5.0
+    session.solution.RunCalculation.iterate(400)
+
+    ps.cfl = 20.0
+    session.solution.RunCalculation.iterate(600)
+
+    print("CFL ramp complete.")
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"c197db6e-04d4-426f-a8f9-1c25d58b2d0b\" name=\"Changes\" comment=\"v0.0.1\">\r\n      <change afterPath=\"$PROJECT_DIR$/backup/fc26g40-2.py\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/FullCarCFDScripts/FullCar_26_GEKO40.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/FullCarCFDScripts/FullCar_26_GEKO40.py\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Python Script\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;hayes-dodson&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/hayes-dodson/FluentAuto.git&quot;,\r\n    &quot;accountId&quot;: &quot;7a8eeabf-5b1a-4661-ac3d-1fe692c354c5&quot;\r\n  }\r\n}</component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 6\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"36Kd8wQ8ced9dXgzX9YziTgePj8\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"ModuleVcsDetector.initialDetectionPerformed\": \"true\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"RunOnceActivity.TerminalTabsStorage.copyFrom.TerminalArrangementManager.252\": \"true\",\r\n    \"RunOnceActivity.git.unshallow\": \"true\",\r\n    \"SHARE_PROJECT_CONFIGURATION_FILES\": \"true\",\r\n    \"git-widget-placeholder\": \"master\",\r\n    \"ignore.virus.scanning.warn.message\": \"true\",\r\n    \"node.js.detected.package.eslint\": \"true\",\r\n    \"node.js.detected.package.tslint\": \"true\",\r\n    \"node.js.selected.package.eslint\": \"(autodetect)\",\r\n    \"node.js.selected.package.tslint\": \"(autodetect)\",\r\n    \"nodejs_package_manager_path\": \"npm\",\r\n    \"settings.editor.selected.configurable\": \"reference.settingsdialog.project.grazie\",\r\n    \"vue.rearranger.settings.migration\": \"true\"\r\n  }\r\n}]]></component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\Hayes Dodson\\PycharmProjects\\FluentAuto\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"bundled-js-predefined-d6986cc7102b-a71380e98a7c-JavaScript-PY-252.28238.29\" />\r\n        <option value=\"bundled-python-sdk-a101402ee41c-968fe969f28a-com.jetbrains.pycharm.pro.sharedIndexes.bundled-PY-252.28238.29\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"c197db6e-04d4-426f-a8f9-1c25d58b2d0b\" name=\"Changes\" comment=\"\" />\r\n      <created>1764759042476</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1764759042476</updated>\r\n      <workItem from=\"1764759616143\" duration=\"4749000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"InitialCommit\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1764759128289</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1764759128289</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"v0.0.1\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1764759449778</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1764759449778</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"v0.0.1\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1764759455859</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1764759455859</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"v0.0.1\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1764763179398</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1764763179398</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"v0.0.1\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1764763775589</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1764763775589</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"6\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"InitialCommit\" />\r\n    <MESSAGE value=\"v0.0.1\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"v0.0.1\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision ba5f61d52086454ef54dd3dcbc2e3011d4de737b)
+++ b/.idea/workspace.xml	(date 1764766942747)
@@ -5,8 +5,26 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="c197db6e-04d4-426f-a8f9-1c25d58b2d0b" name="Changes" comment="v0.0.1">
-      <change afterPath="$PROJECT_DIR$/backup/fc26g40-2.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/FullCarCFDScripts/FullCar_26_GEKO40.py" beforeDir="false" afterPath="$PROJECT_DIR$/FullCarCFDScripts/FullCar_26_GEKO40.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/config/settings.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/main.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/meshing/auto_boundary_layers.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/meshing/auto_sizing.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/meshing/hexcore.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/meshing/mesh_pipeline.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/meshing/utils_detect_zones.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/post/contours.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/post/forces.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/post/residuals.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/solver/aero_coeffs.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/solver/auto_restart.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/solver/boundary_conditions.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/solver/boundary_layer_tools.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/solver/projected_area.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/solver/ramping.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/solver/reference_values.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/FullCarCFDScripts/solver/turbulence.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/FullCarCFDScripts/FullCar_26_GEKO40.py" beforeDir="false" afterPath="$PROJECT_DIR$/backup/FullCar_26_GEKO40.py" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -39,6 +57,9 @@
   &quot;associatedIndex&quot;: 6
 }</component>
   <component name="ProjectId" id="36Kd8wQ8ced9dXgzX9YziTgePj8" />
+  <component name="ProjectLevelVcsManager">
+    <ConfirmationsSetting value="2" id="Add" />
+  </component>
   <component name="ProjectViewState">
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
@@ -63,6 +84,7 @@
 }]]></component>
   <component name="RecentsManager">
     <key name="MoveFile.RECENT_KEYS">
+      <recent name="C:\Users\Hayes Dodson\PycharmProjects\FluentAuto\backup" />
       <recent name="C:\Users\Hayes Dodson\PycharmProjects\FluentAuto" />
     </key>
   </component>
@@ -81,7 +103,7 @@
       <option name="number" value="Default" />
       <option name="presentableId" value="Default" />
       <updated>1764759042476</updated>
-      <workItem from="1764759616143" duration="4749000" />
+      <workItem from="1764759616143" duration="7273000" />
     </task>
     <task id="LOCAL-00001" summary="InitialCommit">
       <option name="closed" value="true" />
@@ -123,7 +145,15 @@
       <option name="project" value="LOCAL" />
       <updated>1764763775589</updated>
     </task>
-    <option name="localTasksCounter" value="6" />
+    <task id="LOCAL-00006" summary="v0.0.1">
+      <option name="closed" value="true" />
+      <created>1764764587548</created>
+      <option name="number" value="00006" />
+      <option name="presentableId" value="LOCAL-00006" />
+      <option name="project" value="LOCAL" />
+      <updated>1764764587548</updated>
+    </task>
+    <option name="localTasksCounter" value="7" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
Index: FullCarCFDScripts/solver/boundary_conditions.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/solver/boundary_conditions.py b/FullCarCFDScripts/solver/boundary_conditions.py
new file mode 100644
--- /dev/null	(date 1764765514382)
+++ b/FullCarCFDScripts/solver/boundary_conditions.py	(date 1764765514382)
@@ -0,0 +1,30 @@
+def apply_boundary_conditions(session, settings):
+    inlet_vel = settings["final_inlet_velocity_mph"]
+    wheel_speed = settings["wheel_rotational_speed_rad_s"]
+    wheel_zones = settings["wheel_zone_names"]
+
+    # Inlet
+    bc = session.solver.BoundaryConditions["inlet"]
+    bc.velocity = inlet_vel
+    print("Inlet set to", inlet_vel, "mph")
+
+    # Ground
+    ground = session.solver.BoundaryConditions["ground"]
+    ground.type = "moving-wall"
+    ground.motion = {
+        "motion_type": "translational",
+        "speed": inlet_vel,
+        "direction": [1, 0, 0]
+    }
+    print("Ground plane moving at", inlet_vel, "mph")
+
+    # Wheels
+    for wz in wheel_zones:
+        w = session.solver.BoundaryConditions[wz]
+        w.type = "moving-wall"
+        w.motion = {
+            "motion_type": "rotational",
+            "spin_rate": wheel_speed,
+            "axis_direction": [0,1,0],
+        }
+        print(f"Wheel {wz} spinning at {wheel_speed} rad/s")
Index: FullCarCFDScripts/solver/reference_values.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/solver/reference_values.py b/FullCarCFDScripts/solver/reference_values.py
new file mode 100644
--- /dev/null	(date 1764765539741)
+++ b/FullCarCFDScripts/solver/reference_values.py	(date 1764765539741)
@@ -0,0 +1,9 @@
+from ..meshing.utils_detect_zones import detect_enclosure_zone
+
+def set_reference_values(session):
+    enclosure = detect_enclosure_zone(session)
+    rv = session.solver.Settings.ReferenceValues
+
+    rv.ReferenceZone = enclosure
+    rv.ComputeFrom = "inlet"
+    print("Reference values computed from inlet.")
Index: FullCarCFDScripts/post/forces.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/post/forces.py b/FullCarCFDScripts/post/forces.py
new file mode 100644
--- /dev/null	(date 1764765574195)
+++ b/FullCarCFDScripts/post/forces.py	(date 1764765574195)
@@ -0,0 +1,10 @@
+def export_forces(session, zones, file="forces.csv"):
+    rep = session.post.ReportsForces
+    rep["force"] = {
+        "zones": zones,
+        "x_dir": [1,0,0],
+        "y_dir": [0,1,0],
+        "z_dir": [0,0,1],
+    }
+    rep["force"].ComputeAndExport(file)
+    print("Exported forces:", file)
Index: FullCarCFDScripts/post/contours.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/post/contours.py b/FullCarCFDScripts/post/contours.py
new file mode 100644
--- /dev/null	(date 1764765586936)
+++ b/FullCarCFDScripts/post/contours.py	(date 1764765586936)
@@ -0,0 +1,8 @@
+def export_contour(session, variable, plane="xy", file="contour.png"):
+    post = session.post
+    surf = post.Surface.Plane
+    surf["plt"] = {"type": plane, "point": [0,0,0]}
+    contour = post.Contours
+    contour["c"] = {"field": variable, "surfaces": ["plt"]}
+    post.SavePicture(file_name=file)
+    print("Contour saved:", file)
Index: FullCarCFDScripts/post/residuals.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/post/residuals.py b/FullCarCFDScripts/post/residuals.py
new file mode 100644
--- /dev/null	(date 1764765600740)
+++ b/FullCarCFDScripts/post/residuals.py	(date 1764765600740)
@@ -0,0 +1,3 @@
+def export_residuals(session, file="residuals.csv"):
+    session.solution.Monitors.Residual.Export(file)
+    print("Residuals exported:", file)
Index: FullCarCFDScripts/solver/projected_area.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FullCarCFDScripts/solver/projected_area.py b/FullCarCFDScripts/solver/projected_area.py
new file mode 100644
--- /dev/null	(date 1764766261371)
+++ b/FullCarCFDScripts/solver/projected_area.py	(date 1764766261371)
@@ -0,0 +1,19 @@
+def compute_projected_area(session, settings):
+    """
+    Computes projected frontal area for half-car and returns full-car value.
+    Uses Fluent surface integral with minimum feature size.
+    """
+    zones = settings["projected_area_zones"]
+    min_len = settings["min_feature_size"]
+
+    rep = session.post.ReportsSurfaceIntegrals
+    rep["proj_area"] = {
+        "report_type": "projected-area",
+        "direction": [1, 0, 0],   # frontal direction (+X)
+        "zones": zones,
+        "min_length": min_len
+    }
+
+    A_half = rep["proj_area"].Compute()
+    A_full = 2 * A_half
+    return A_full
diff --git a/FullCarCFDScripts/FullCar_26_GEKO40.py b/backup/FullCar_26_GEKO40.py
rename from FullCarCFDScripts/FullCar_26_GEKO40.py
rename to backup/FullCar_26_GEKO40.py
